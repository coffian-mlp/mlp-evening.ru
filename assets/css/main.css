/* === Общие стили === */
*, *::before, *::after {
    box-sizing: border-box;
}

body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Open Sans', 'Segoe UI', Tahoma, sans-serif; /* Основной шрифт */
    background: url(/assets/img/bg.jpg) no-repeat center center fixed #2B1F43;
    background-size: cover;
    color: #333;
}

/* Заголовки с магическим шрифтом */
h1, h2, h3, h4, h5, h6, .logo-font {
    font-family: 'Philosopher', sans-serif;
}

/* Класс для главной страницы (плеера), где не нужен скролл */
body.player-layout {
    overflow: hidden;
}

/* Класс для дашборда, где скролл нужен */
body.dashboard-layout {
    overflow-y: auto;
    /* Убрали background: #f0f2f5; чтобы осталась картинка */
    padding: 20px;
}

/* === Стили Плеера (Index) === */
.player-container {
    display: flex;
    height: 100vh; /* Фоллбек для старых браузеров */
    height: 100dvh; /* Dynamic Viewport Height для мобилок */
}

.video-container {
    flex: 3.5;
    display: flex;
    flex-direction: column;
    padding: 6px;
}

.header {
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    color: white;
}

.header .logo {
    font-size: 24px;
    font-weight: bold;
}

.header .menu {
    display: flex;
    gap: 20px;
}

.header .menu a {
    color: white;
    text-decoration: none;
    font-size: 16px;
}

.video-content {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    width: 100%;
}

.video-content iframe {
    width: 100%;
    height: 100%;
    border: none;
}

.chat-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #333;
    width: 100%;
    height: 100%;
}

@media (max-width: 768px) {
    .player-container {
        flex-direction: column;
    }

    .header {
        height: auto;
        padding: 10px 20px;
        flex-shrink: 0;
    }
    
    .header .logo {
        height: 40px;
        width: auto;
    }

    .video-container {
        flex: 0 0 auto;
        padding: 0;
        width: 100%;
    }
    
    .video-content {
        width: 100%;
        aspect-ratio: 16/9;
    }

    .chat-container {
        flex: 1;
        height: auto;
        min-height: 0;
    }
}

/* === Утилиты === */
.hidden { display: none; }

/* === Чат иконки === */
/* Имена пользователей и заголовок чата - магическим шрифтом */
/* Добавляем 'a', чтобы ссылки тоже окрашивались, и '*' для вложенных элементов */
.chatbro_header_title,
.chatbro_message_name,
.chatbro_message_name a,
.chatbro_chat_name {
    font-family: 'Philosopher', sans-serif !important;
    max-width: unset !important;
}

.chatbro_message_attachment_reply .chatbro_message_name,
.chatbro_message_attachment_reply .chatbro_message_name a {
    max-width: 45% !important;
}

/* Сам текст сообщений - обычным шрифтом (наследуется от body, но на всякий случай) */
.chatbro_message_block, 
.chatbro_message_content {
    font-family: 'Open Sans', sans-serif !important;
}
.chatbro_messages .chatbro_message_admin, .chatbro_fake_messages .chatbro_message_admin {
  border: none !important;
  background: none !important;
}
.chatbro_messages .chatbro_message_moder, .chatbro_fake_messages .chatbro_message_moder {
  border: none !important;
  background: none !important;
}
.chatbro_messages .chatbro_message_admin::after, .chatbro_fake_messages .chatbro_message_admin::after, .chatbro_messages .chatbro_message_moder::after, .chatbro_fake_messages .chatbro_message_moder::after {
  display: none;
}

/* === Стили уведомлений (Flash Messages) === */
.flash-message {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 15px 25px;
    border-radius: 50px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    z-index: 9999;
    font-weight: bold;
    color: white;
    cursor: pointer;
    text-align: center;
    min-width: 300px;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from { top: -50px; opacity: 0; }
    to { top: 20px; opacity: 1; }
}

.flash-message.alert-success {
    background-color: #4caf50; /* Green */
    background: linear-gradient(135deg, #4caf50, #8bc34a);
}

.flash-message.alert-danger {
    background-color: #f44336; /* Red */
    background: linear-gradient(135deg, #f44336, #e91e63);
}

/* === Общие кнопки === */
.btn-primary {
    background: #6d2f8e;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
}
.btn-primary:hover { background: #562473; }

.btn-danger {
    background: #e74c3c;
    color: white;
    padding: 8px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
}
.btn-danger:hover { background: #c0392b; }

.btn-warning {
    background: #f1c40f;
    color: #333;
    padding: 8px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
}
.btn-warning:hover { background: #f39c12; }

/* Кнопка "Вернуться" (используется в 404/403) */
.btn-return, .btn-home {
    display: inline-block;
    background-color: #6d2f8e;
    color: white;
    padding: 12px 25px;
    border-radius: 25px;
    text-decoration: none;
    font-weight: bold;
    transition: transform 0.2s, background 0.2s;
    margin-top: 20px;
}
.btn-return:hover, .btn-home:hover {
    background-color: #562473;
    transform: translateY(-2px);
}
